---
title: pipreqs
date: 2018-06-23 12:50:02
tags: None
layout: post
---

[pipreqs](https://github.com/bndr/pipreqs) -- инструмент для генерации requirements.txt из импортов в исходном коде. Сейчас занимаюсь разделением одного большого проекта на несколько поменьше (об этом, в числе прочего, мой доклад на [предстоящем PiterPy Meetup](https://piterpy.timepad.ru/event/666491/)), и pipreqs пришёлся очень даже кстати. Он даже сам проставляет последнюю доступную версию для каждого пакета. Но рекомендую после него всё проверить, это не Go, тут много сюрпризов. Например, название пакета при импорте в PyPI может различаться, и pipreqs разруливает это через [захардкоренный mapping](https://github.com/bndr/pipreqs/blob/master/pipreqs/mapping). Выглядит жутко, но это хоть какое-то решение. Например, isort, про который я писал вчера, до сих пор из-за этого [не умеет читать requirements.txt](https://github.com/timothycrosley/isort/issues/459). Хочу на досуге форкнуть и интегрировать это, чтобы можно было запускать его без запуска окружения.

#python #tools #imports #decoupling #pip
