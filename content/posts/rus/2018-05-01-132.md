---
title: "Сломай логи"
date: 2018-05-01 10:20:02
tags: []
layout: post
telegram_id: 132
---

[Сломай логи](https://youtu.be/Iflzes-xu8Q) — довольно интересное выступление о том, как устроено логирование в Альфа-Банке.

У нас логирование шло в elastic stack через самописный клиент, принимающий сообщения от приложений через RabbitMQ. В какой-то момент стало очевидно, что от этого нужно отказываться, хотя бы ради интеграции в стандартную систему логирования Python. Планировали внедрить [python-logstash-async](https://github.com/eht16/python-logstash-async), но потом решили делать как в видео, ради централизованного и унифицированного механизма. По сути, из RSysLog сообщения могут идти куда угодно и как угодно, не только в ElasticSearch (об этом есть в выступлении).

В качестве очереди сообщений между RSysLog и Logstash авторы RSysLog рекомендуют использовать либо Kafka, либо Redis. Пока остановились на Redis, но я присматриваюсь в испольтзованию RabbitMQ (всё-таки Redis не для очередей). Кому интересно, что получилось — на гитхабе есть демонстрационная площадка на контейнерах: [python-syslog-logstash](https://github.com/orsinium/python-syslog-logstash).
